<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë°°ì¬ëŒ€í•™êµ ë³¸ê´€ ìº í¼ìŠ¤ë§µ (ì¹´ì¹´ì˜¤ ì§€ë„)</title>
    <script type="text/javascript"
        src="http://dapi.kakao.com/v2/maps/sdk.js?appkey=124e4b785cbdd3fc46a37b0abd30547f&autoload=false"></script>
    <style>
        html,
        body {
            /* í™”ë©´ ìŠ¤í¬ë¡¤ X */
            overflow: hidden;
            height: 100%;
            /* HTMLê³¼ body íƒœê·¸ì˜ ë†’ì´ë¥¼ 100%ë¡œ ì„¤ì • */
            margin: 0;
            /* ê¸°ë³¸ margin ì œê±° */
            padding: 0;
            /* ê¸°ë³¸ padding ì œê±° */
        }

        body {
            display: flex;
            flex-direction: column;
            /* ìˆ˜ì§ìœ¼ë¡œ ë ˆì´ì•„ì›ƒ ë°°ì¹˜ */
        }

        header {
            height: 80px;
            /* ìƒë‹¨ í—¤ë” ë†’ì´ ì„¤ì • */
        }

        #map {
            width: 70vw;
            height: 60vh;
            position: relative;
            /* margin: auto; */
        }

        .header {
            position: relative;
            width: 100%;
            height: 80px;
            /* ì›í•˜ëŠ” ë†’ì´ ì„¤ì • */
            background-color: deepskyblue;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            /* ìš”ì†Œê°€ ê²¹ì¹  ë•Œ ìœ„ì— í‘œì‹œí•˜ê¸° ìœ„í•œ ìš©ë„ */
        }

        .header h1 {
            color: white;
            font-size: 24px;
            margin: 0;
        }

        /* í˜„ì¬ ìœ„ì¹˜ ë²„íŠ¼ ë°”íƒ• */
        .button-container {
            position: absolute;
            /* í˜„ì¬ í™”ë©´ì˜ ë†’ì´ */
            top: 2vh;
            right: 1vw;
            display: flex;
            align-items: center;
            width: 70px;
            background: white;
            /* ë‘¥ê·¼ ë²„íŠ¼ */
            border-radius: 25px;
            padding: 6px 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
        }

        /* í˜„ì¬ ìœ„ì¹˜ ë²„íŠ¼ */
        .button-container button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 13px;
            padding: 5px;
            outline: none;
        }

        .button-container:hover {
            background: lightgray;
        }

        /* ê²€ìƒ‰ì°½ ë°”íƒ• */
        .search-container {
            position: absolute;
            top: 1.5vh;
            right: 8vw;
            display: flex;
            align-items: center;
            width: 300px;
            background: white;
            border-radius: 25px;
            padding: 5px 10px;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
        }

        /* ê²€ìƒ‰ì°½ ì…ë ¥ ë€ */
        .search-container input {
            flex: 1;
            border: none;
            outline: none;
            padding: 8px;
            font-size: 16px;
            border-radius: 25px;
        }

        /* ê²€ìƒ‰ ë²„íŠ¼ */
        .search-container button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            padding: 8px;
            outline: none;
        }

        /* ì¹´í…Œê³ ë¦¬ (í¸ì˜ì  ë“±ë“±) ë²„íŠ¼ */
        .category-buttons {
            position: absolute;
            top: 2.5vh;
            left: 2vw;
            display: flex;
            gap: 10px;
            z-index: 1000;
        }

        /* ì¹´í…Œê³ ë¦¬ ë²„íŠ¼ í¬ê¸° ë° ëª¨ì–‘ */
        .category-buttons button {
            background: white;
            border: 1px solid #ddd;
            border-radius: 25px;
            /* ë‘¥ê·¼ ë²„íŠ¼ */
            padding: 8px 15px;
            /* ë²„íŠ¼ ì•ˆì˜ í…ìŠ¤íŠ¸ì™€ í…Œë‘ë¦¬ì˜ ì—¬ë°± ì¡°ì ˆ */
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            transition: background 0.3s ease;
        }

        /* ë§ˆìš°ìŠ¤ ì˜¬ë ¤ë†“ì„ ì‹œ ìƒ‰ìƒ ë³€ê²½ */
        .category-buttons button:hover {
            background: lightgrey;
        }

        /* ì˜¤ë¥¸ìª½ì˜ ê° ì¥ì†Œ ë²„íŠ¼ */
        .place-buttons {
            position: absolute;
            top: 80px;
            left: 85%;
            transform: translateX(-50%);
            background: white;
            /* ë²„íŠ¼ ë°°ê²½ì„ í°ìƒ‰ìœ¼ë¡œ ìœ ì§€ */
            display: flex;
            /* ë²„íŠ¼ì´ widthë¥¼ ë„˜ê¸¸ ê²½ìš° ë‹¤ìŒ ì¤„ì— ìƒì„± */
            flex-wrap: wrap;
            /* ê° ë²„íŠ¼ ì‚¬ì´ì˜ ê³µê°„ */
            gap: 15px;
            /* vw = í˜„ì¬ í™”ë©´ì˜ ë„ˆë¹„ */
            width: 90vw;
            height: 85%;
            /* ë²„íŠ¼ë“¤ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ì§€ ì•Šë„ë¡ ì„¤ì • */
            max-width: 400px;
            /* ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
            justify-content: center;
            padding: 20px;
            /* ë²„íŠ¼ê³¼ ì§€ë„ ì‚¬ì´ ì—¬ë°± */
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            /* ë²„íŠ¼ ì˜ì—­ì— ê·¸ë¦¼ì ì¶”ê°€ */
            border-radius: 10px;
            /* ì„¸ë¡œ ìŠ¤í¬ë¡¤ O */
            overflow-y: auto;
        }

        .place-buttons button {
            background: white;
            border: 1px solid #ddd;
            border-radius: 25px;
            /* ë²„íŠ¼ì˜ ëª¨ì„œë¦¬ë¥¼ ë‘¥ê¸€ê²Œ ë§Œë“œëŠ” ìš©ë„ */
            /* ë‘¥ê·¼ ë²„íŠ¼ */
            padding: 8px 15px;
            font-size: 16px;
            cursor: pointer;
            box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.2);
            transition: background 0.3s ease;
        }

        .place-buttons button:hover {
            background: lightgray;
        }

        @media (max-width: 1920px) { /* FHD í•´ìƒë„ */
            #map {
                width: 85vw;
                height: 550px;
            }
        }

        @media (max-width: 2560px) { /* QHD í•´ìƒë„ */
            #map {
                width: 75vw;
                height: 600px;
            }
        }

        @media (max-width: 3840px) { /* 4K í•´ìƒë„ */
            #map {
                width: 70vw;
                height: 700px;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>ë°°ì¬ëŒ€í•™êµ ë³¸ê´€ ìº í¼ìŠ¤ë§µ</h1>
    </header>

    <div class="search-container">
        <input type="text" id="searchInput" placeholder="ì¥ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”" onkeypress="handleKeyPress(event)">
        <button onclick="searchLocation()">ğŸ”</button>
    </div>

    <div class="button-container">
        <button onclick="getCurrentLocation()">ğŸ“ ë‚´ ìœ„ì¹˜</button>
    </div>

    <div class="place-buttons">
        <button onclick="getLocation()">21ì„¸ê¸°ê´€ ëŒ€í•™ë³¸ë¶€ ( P ) </button>
        <button onclick="getLocation()">ì˜ˆìˆ ê´€ ( Y ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê¸°ë…ê´€ ( AM ) </button>
        <button onclick="getLocation()">ë°±ì‚°ê´€ ( B ) </button>
        <button onclick="getLocation()">ìš°ë‚¨ê´€ ( W ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê´€ ( A ) </button>
        <button onclick="getLocation()">ì •ë³´ê³¼í•™ê´€ ( C ) </button>
        <button onclick="getLocation()">ì†Œì›”ê´€ ( S ) </button>
        <button onclick="getLocation()">21ì„¸ê¸°ê´€ ëŒ€í•™ë³¸ë¶€ ( P ) </button>
        <button onclick="getLocation()">ì˜ˆìˆ ê´€ ( Y ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê¸°ë…ê´€ ( AM ) </button>
        <button onclick="getLocation()">ë°±ì‚°ê´€ ( B ) </button>
        <button onclick="getLocation()">ìš°ë‚¨ê´€ ( W ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê´€ ( A ) </button>
        <button onclick="getLocation()">ì •ë³´ê³¼í•™ê´€ ( C ) </button>
        <button onclick="getLocation()">ì†Œì›”ê´€ ( S ) </button>
        <button onclick="getLocation()">21ì„¸ê¸°ê´€ ëŒ€í•™ë³¸ë¶€ ( P ) </button>
        <button onclick="getLocation()">ì˜ˆìˆ ê´€ ( Y ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê¸°ë…ê´€ ( AM ) </button>
        <button onclick="getLocation()">ë°±ì‚°ê´€ ( B ) </button>
        <button onclick="getLocation()">ìš°ë‚¨ê´€ ( W ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê´€ ( A ) </button>
        <button onclick="getLocation()">ì •ë³´ê³¼í•™ê´€ ( C ) </button>
        <button onclick="getLocation()">ì†Œì›”ê´€ ( S ) </button>
        <button onclick="getLocation()">21ì„¸ê¸°ê´€ ëŒ€í•™ë³¸ë¶€ ( P ) </button>
        <button onclick="getLocation()">ì˜ˆìˆ ê´€ ( Y ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê¸°ë…ê´€ ( AM ) </button>
        <button onclick="getLocation()">ë°±ì‚°ê´€ ( B ) </button>
        <button onclick="getLocation()">ìš°ë‚¨ê´€ ( W ) </button>
        <button onclick="getLocation()">ì•„íœì ¤ëŸ¬ê´€ ( A ) </button>
        <button onclick="getLocation()">ì •ë³´ê³¼í•™ê´€ ( C ) </button>
        <button onclick="getLocation()">ì†Œì›”ê´€ ( S ) </button>
    </div>

    <div id="map">
        <div class="category-buttons">
            <button onclick="searchPlaces('FD6')">ğŸ½ ìŒì‹ì </button>
            <button onclick="searchPlaces('CS2')">ğŸª í¸ì˜ì </button>
            <button onclick="searchPlaces('CE7')">â˜• ì¹´í˜</button>
        </div>
    </div>

    <script>
        let map, userMarker;

        function initMap() {
            console.log(kakao);
            let container = document.getElementById("map");
            let options = {
                center: new kakao.maps.LatLng(36.320630029704, 127.36680988956), // ë°°ì¬ëŒ€ ì¤‘ì•™ ìœ„ì¹˜ / ì´ˆê¸° ìœ„ì¹˜
                level: 3 // ì¤Œ ë ˆë²¨ (ê°’ì´ ë‚®ì„ìˆ˜ë¡ í™•ëŒ€)
            };
            map = new kakao.maps.Map(container, options);
        }

        function getCurrentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(
                    function (position) {
                        let lat = position.coords.latitude; // í˜„ì¬ ìœ„ë„
                        let lng = position.coords.longitude; // í˜„ì¬ ê²½ë„
                        let userLocation = new kakao.maps.LatLng(lat, lng);

                        // ì§€ë„ ì¤‘ì‹¬ ì´ë™
                        map.setCenter(userLocation);

                        // ê¸°ì¡´ ë§ˆì»¤ ì‚­ì œ í›„ ìƒˆ ë§ˆì»¤ ì¶”ê°€
                        if (userMarker) {
                            userMarker.setMap(null);
                        }
                        userMarker = new kakao.maps.Marker({ // ì§€ë„ ìœ„ ë§ˆì»¤ í‘œì‹œ
                            position: userLocation,
                            map: map
                        });

                        alert("í˜„ì¬ ìœ„ì¹˜ë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤!");
                    },
                    function () {
                        alert("ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                    }
                );
            } else {
                alert("ì´ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ìœ„ì¹˜ ì°¾ê¸°ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            }
        }

        function searchLocation() {
            let placeName = document.getElementById("searchInput").value;

            if (placeName) {
                let geocoder = new kakao.maps.services.Geocoder();

                geocoder.addressSearch(placeName, function (result, status) {
                    if (status === kakao.maps.services.Status.OK) {
                        let lat = result[0].y;  // ìœ„ë„
                        let lng = result[0].x;  // ê²½ë„
                        let placeLocation = new kakao.maps.LatLng(lat, lng);

                        // ì§€ë„ ì¤‘ì‹¬ì„ ê²€ìƒ‰ëœ ì¥ì†Œë¡œ ì´ë™
                        map.setCenter(placeLocation);

                        // ë§ˆì»¤ ìƒì„± ë° ì§€ë„ì— í‘œì‹œ
                        if (userMarker) {
                            userMarker.setMap(null); // ê¸°ì¡´ ë§ˆì»¤ ì œê±°
                        }
                        userMarker = new kakao.maps.Marker({
                            position: placeLocation,
                            map: map
                        });

                        // ì¥ì†Œ ì •ë³´ ì•Œë¦¼
                        alert("ì¥ì†Œë¥¼ ì°¾ì•˜ìŠµë‹ˆë‹¤: " + result[0].place_name);
                    } else {
                        alert("ì¥ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
                    }
                });
            } else {
                alert("ì¥ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            }
        }

        // ì—”í„° í‚¤ ì…ë ¥ ì‹œ ê²€ìƒ‰
        function handleKeyPress(event) {
            if (event.key === "Enter") {
                searchLocation();
            }
        }

        // ì¥ì†Œ ê²€ìƒ‰
        function getLocation() {

        }

        kakao.maps.load(function () {
            initMap(); // ì§€ë„ ë¡œë”© í›„ í˜¸ì¶œ
        });
    </script>
</body>

</html>